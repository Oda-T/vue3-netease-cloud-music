(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["playlist"],{b887:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r={id:"playlist"};function i(e,t,n,i,o,u){var c=Object(a["B"])("play-list"),l=Object(a["B"])("comments"),s=Object(a["B"])("pagination");return Object(a["t"])(),Object(a["f"])("div",r,[Object(a["j"])(c,{headerDetail:e.headerDetail,listDetail:e.listDetail},null,8,["headerDetail","listDetail"]),Object(a["j"])(l,{commentsDetail:e.commentsDetail,hotCommentsDetail:e.hotCommentsDetail},null,8,["commentsDetail","hotCommentsDetail"]),Object(a["j"])(s,{pageCount:e.pageCount,onPageNumber:e.pageNumber},null,8,["pageCount","onPageNumber"])])}n("a4d3"),n("e01a"),n("b0c0"),n("a9e3"),n("96cf");var o=n("1da1"),u=n("6c02"),c=n("9b6e"),l=n("961b"),s=n("6407"),m=n("79f6"),d=Object(a["k"])({name:"Playlist",components:{PlayList:c["a"],Comments:l["a"],Pagination:s["a"]},setup:function(){var e=Object(u["d"])(),t=Object(a["y"])({}),n=Object(a["x"])([]),r=Object(a["y"])(0),i=Object(a["x"])([]),c=Object(a["x"])([]),l=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var r,i,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"]["httpGET"]("GET_PLAYLIST_DETAIL",{id:a});case 2:for(r=e.sent,i=r.playlist,o=i.tracks,t.value={name:i.name,coverImgUrl:i.coverImgUrl,description:i.description,trackCount:i.trackCount,playCount:i.playCount,shareCount:i.shareCount,commentCount:i.commentCount,subscribedCount:i.subscribedCount,updateTime:i.updateTime,tags:i.tags},u=0;u<o.length;u++)n[u]={name:o[u].name,id:"/song?id="+o[u].id,artist:o[u].ar,artistUrl:"/artist?id="+o[u].ar[0].id,imgUrl:o[u].al.picUrl,time:o[u].dt};case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,o,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.length=0,e.next=3,m["a"]["httpGET"]("GET_COMMENT_PLAYLIST",{id:t,limit:20,offset:n});case 3:for(a=e.sent,o=a.total,u=a.comments,r.value=Math.ceil(o/20),c=0;c<u.length;c++)i[c]={username:u[c].user.nickname,useravatar:u[c].user.avatarUrl,usertype:u[c].user.userType,content:u[c].content,liked:u[c].liked,likedcount:u[c].likedCount,time:u[c].time,replied:{username:u[c].beReplied.length?u[c].beReplied[0].user.nickname:void 0,content:u[c].beReplied.length?u[c].beReplied[0].content:void 0}};case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(t){s(Number(e.query.id),20*(t-1)),window.scrollTo({top:0})};return e.query.id&&(l(Number(e.query.id)),s(Number(e.query.id),0)),{route:e,headerDetail:t,listDetail:n,commentsDetail:i,pageCount:r,pageNumber:d,hotCommentsDetail:c}}});d.render=i;t["default"]=d}}]);