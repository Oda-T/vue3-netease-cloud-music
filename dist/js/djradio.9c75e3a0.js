(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["djradio"],{7429:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a={id:"djradio"};function i(e,t,r,i,u,c){var s=Object(n["D"])("play-list-header"),o=Object(n["D"])("play-list-detail");return Object(n["v"])(),Object(n["g"])("div",a,[Object(n["k"])(s,{headerDetail:e.headerDetail,onHandlePlay:t[1]||(t[1]=function(t){return e.handlePlay(e.djRadioList)}),onHandleShare:t[2]||(t[2]=function(t){return e.handleShare(e.id,"djradio","test")}),onHandleSubscribe:t[3]||(t[3]=function(t){return e.handleSubscribe(e.id,"djradio")})},null,8,["headerDetail"]),Object(n["k"])(o,{listDetail:e.listDetail,onHandleListPlay:e.handlePlay},null,8,["listDetail","onHandleListPlay"])])}r("b0c0"),r("96cf");var u=r("1da1"),c=r("6c02"),s=r("6e1d"),o=r("a0f4"),d=r("c057"),l=r("79f6"),m=Object(n["l"])({name:"Djradio",components:{PlayListHeader:s["a"],PlayListDetail:o["a"]},setup:function(){var e=Object(c["d"])(),t=Object(n["A"])({}),r=Object(n["z"])([]),a=Object(n["z"])([]),i=Object(n["A"])(""),s=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(n){var i,u,c,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"]["httpGET"]("GET_DJ_DETAIL",{rid:n});case 2:return i=e.sent,u=i.data,t.value={name:u.name,coverImgUrl:u.picUrl,description:u.desc,shareCount:u.shareCount,subscribedCount:u.subCount,subscribed:u.subed,updateTime:u.lastProgramCreateTime},e.next=7,l["a"]["httpGET"]("GET_DJ_PROGRAM",{rid:n,offset:0});case 7:for(c=e.sent,s=c.programs,o=0;o<s.length;o++)r[o]={name:s[o].name,id:"/dj?id="+s[o].id,artist:s[o].dj.nickname,artistUrl:"/user?id="+s[o].dj.userId,imgUrl:s[o].blurCoverUrl,time:s[o].duration},a[o]=s[o].id;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"string"===typeof e.query.id&&(i.value=e.query.id,s(e.query.id)),{route:e,headerDetail:t,listDetail:r,handlePlay:d["b"],handleShare:d["c"],handleSubscribe:d["d"],djRadioList:a,id:i}}});m.render=i;t["default"]=m},8607:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));r("99af"),r("a9e3"),r("d3b7"),r("ac1f"),r("25f0"),r("1276");var n=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"年").concat(t.getMonth()+1,"月").concat(t.getDate(),"日")},a=function(e){var t=new Date,r=e.split("年")[0],n=e.split("年")[1].split("月")[0],a=e.split("月")[1].split("日")[0];return t.setFullYear(Number(r)),t.setMonth(Number(n)-1),t.setDate(Number(a)),t.getTime().toString()}},c057:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return m})),r.d(t,"a",(function(){return p}));var n=r("ade3"),a=(r("96cf"),r("1da1")),i=r("0613"),u=r("79f6"),c=r("8ceb"),s=function(e){i["a"].commit("setSongList",e),c["a"].snackbar({message:"已添加到播放列表",position:"right-bottom",timeout:1200})},o=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"]["httpGET"]("SHARE_RESOURCE",{id:t,type:r,msg:n});case 2:a=e.sent,i=a.code,200===i?c["a"].snackbar({message:"成功分享到动态",position:"right-bottom",timeout:1200}):c["a"].snackbar({message:"分享失败",position:"right-bottom",timeout:1200});case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),d=function(e){switch(e){case"playlist":return"PLAYLIST_SUBSCRIBE";case"album":return"ALBUM_SUB";case"djradio":return"DJ_SUB";case"mv":return"MV_SUB";case"video":return"VIDEO_SUB";default:return"PLAYLIST_SUBSCRIBE"}},l=function(e){switch(e){case"djradio":return"rid";case"mv":return"mvid";default:return"id"}},m=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"]["httpGET"](d(r),(a={},Object(n["a"])(a,l(r),t),Object(n["a"])(a,"t",1),a));case 2:i=e.sent,s=i.code,200===s?c["a"].snackbar({message:"收藏成功",position:"right-bottom",timeout:1200}):c["a"].snackbar({message:"收藏失败",position:"right-bottom",timeout:1200});case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b=function(e){switch(e){case"djprogram":return"4";case"video":return"5";default:return"1"}},p=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"]["httpGET"]("RESOURCE_LIKE",{id:t,t:1,type:b(r)});case 2:n=e.sent,a=n.code,200===a&&c["a"].snackbar({message:"已点赞",position:"right-bottom",timeout:1200});case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}]);