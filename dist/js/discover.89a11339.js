(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["discover"],{"0414":function(t,e,n){"use strict";n("a371")},a371:function(t,e,n){},af85:function(t,e,n){"use strict";n.r(e);var r=n("7a23"),a={id:"discoverIndex"},i=Object(r["j"])("span",{class:"mdui-chip-title"},"更多",-1),c=Object(r["j"])("span",{class:"mdui-chip-title"},"更多",-1),s=Object(r["j"])("span",{class:"mdui-chip-title"},"更多",-1);function u(t,e,n,u,o,l){var p=Object(r["B"])("swipe"),d=Object(r["B"])("router-link"),b=Object(r["B"])("recommend");return Object(r["t"])(),Object(r["f"])("div",a,[Object(r["j"])(p,{banners:t.banner},null,8,["banners"]),Object(r["j"])(b,{topTitle:"热门推荐",topList:t.playlistHot,cardList:t.cards,onGetId:t.getIdCallBackHot},{default:Object(r["M"])((function(){return[Object(r["j"])(d,{class:"mdui-chip",style:{float:"right",margin:"30px 10px 0px"},to:"/discover/playlist"},{default:Object(r["M"])((function(){return[i]})),_:1})]})),_:1},8,["topList","cardList","onGetId"]),Object(r["j"])(b,{topTitle:"新碟上架",topList:t.albumListHot,cardList:t.album,onGetId:t.getIdCallBackAlbums},{default:Object(r["M"])((function(){return[Object(r["j"])(d,{class:"mdui-chip",style:{float:"right",margin:"30px 10px 0px"},to:"/discover/album"},{default:Object(r["M"])((function(){return[c]})),_:1})]})),_:1},8,["topList","cardList","onGetId"]),Object(r["j"])(b,{topTitle:"热门榜单",topList:t.topList,cardList:t.cardsTopList,activeName:t.activeName,onGetId:t.getIdCallBackList},{default:Object(r["M"])((function(){return[Object(r["j"])(d,{class:"mdui-chip",style:{float:"right",margin:"30px 10px 0px"},to:"/discover/toplist"},{default:Object(r["M"])((function(){return[s]})),_:1})]})),_:1},8,["topList","cardList","activeName","onGetId"])])}n("c975"),n("fb6a"),n("b0c0"),n("a9e3"),n("d3b7"),n("25f0"),n("96cf");var o=n("1da1"),l=n("6c02"),p=n("5502"),d=Object(r["P"])("data-v-15ba9f3a");Object(r["w"])("data-v-15ba9f3a");var b={class:"c-swipe"},f={class:"c-swipe-container"},m={class:"c-swipe-pagination"},j=Object(r["j"])("i",{class:"mdui-icon material-icons"},"chevron_left",-1),O=Object(r["j"])("i",{class:"mdui-icon material-icons"},"chevron_right",-1);Object(r["u"])();var v=d((function(t,e,n,a,i,c){var s=Object(r["B"])("router-link"),u=Object(r["C"])("lazy");return Object(r["t"])(),Object(r["f"])("div",b,[Object(r["j"])("div",f,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(t.banners,(function(e,n){return Object(r["t"])(),Object(r["f"])(s,{class:["c-swipe-link mdui-shadow-16",{"c-swipe-link-pre":n===t.preIndex,"c-swipe-link-cur":n===t.curIndex,"c-swipe-link-next":n===t.nextIndex}],key:e.id,to:e.aHref},{default:d((function(){return[Object(r["N"])(Object(r["j"])("img",{class:"c-swipe-img",alt:e.imgSrc},null,8,["alt"]),[[u,e.imgSrc]])]})),_:2},1032,["to","class"])})),128))]),Object(r["j"])("div",m,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(t.banners,(function(e,n){return Object(r["t"])(),Object(r["f"])("span",{class:["c-swipe-pagination-inner",{"c-swipe-pagination-inner-active":n===t.curIndex}],key:e.id,onClick:Object(r["O"])((function(e){return t.handleClickSwipe(n)}),["stop"])},null,10,["onClick"])})),128))]),Object(r["j"])("button",{class:"c-swipe-arrow-left mdui-fab mdui-color-red-900 mdui-ripple",onClick:e[1]||(e[1]=Object(r["O"])((function(e){return t.handleClickArrow(-1)}),["stop"]))},[j]),Object(r["j"])("button",{class:"c-swipe-arrow-right mdui-fab mdui-color-red-900 mdui-ripple",onClick:e[2]||(e[2]=Object(r["O"])((function(e){return t.handleClickArrow(1)}),["stop"]))},[O])])})),g=Object(r["k"])({name:"Swipe",props:{banners:Object},setup:function(t){var e=Object(r["y"])(0),n=Object(r["y"])(0),a=Object(r["y"])(0),i=0,c=0,s=function(t){return t>=i?t-i:t<0?t+i:t},u=function(t){t!==n.value&&(e.value=s(t-1),n.value=s(t),a.value=s(t+1))},o=function(){c=setInterval((function(){u(n.value+1),n.value>=i?n.value=0:n.value<0&&(n.value=i-1)}),1e4)},l=function(t){clearInterval(c),u(t),o()},p=function(t){l(s(t<0?n.value-1:n.value+1))},d=function(){clearInterval(c),e.value=s(-1),n.value=s(0),a.value=s(1),o()};return Object(r["L"])((function(){t.banners&&(i=t.banners.length,d())})),{preIndex:e,curIndex:n,nextIndex:a,handleClickSwipe:l,handleClickArrow:p}}});n("0414");g.render=v,g.__scopeId="data-v-15ba9f3a";var h=g,w=n("bca1"),x=n("79f6"),L=Object(r["k"])({name:"Discover",components:{Swipe:h,Recommend:w["a"]},setup:function(){var t=Object(l["e"])(),e=Object(p["b"])(),n=Object(r["y"])("云音乐飙升榜"),a=e.state.topListFull,i=Object(r["x"])([]),c=Object(r["x"])([]),s=[{id:"ALL",name:"全部"},{id:"ZH",name:"华语"},{id:"EA",name:"欧美"},{id:"KR",name:"韩国"},{id:"JP",name:"日本"}],u=Object(r["x"])([]),d=Object(r["x"])([]),b=Object(r["x"])([]),f=Object(r["x"])([]),m=function(t){var e=Number(t),n="";return e>99999?(e=Math.round(e/1e4),n=e.toString()+"万"):n=t.toString(),n},j=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_PLAYLIST_DETAIL",{id:e});case 2:for(n=t.sent,r=n.playlist,a=r.tracks,i=r.tracks.length<10?r.tracks.length:10,c=0;c<i;c++)f[c]={id:"/song?id="+a[c].id.toString(),name:a[c].name,artist:a[c].ar[0].name,picUrl:a[c].al.picUrl};case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){for(var t=0;t<3;t++)b[t]=e.state.topListFull[t];j(b[0].id)},v=function(e){t.push("/discover/playlist?cat=".concat(e.name))},g=function(e){t.push("/discover/album?area=".concat(e.id))},h=function(t){j(t.id),n.value=t.name},w=function(t,e,n){switch(e){case 3e3:return n.slice(n.indexOf("com/")+3);case 1004:return"/mv?id="+t;case 10:return"/album?id="+t;case 1:return"/song?id="+t;default:return n.slice(n.indexOf("com/")+3)}},L=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_BANNER",{type:0});case 2:for(e=t.sent,n=e.banners,r=0,a=n.length;r<a;r++)c[r]={bgSrc:n[r].imageUrl+"?imageView&blur=40x20",imgSrc:n[r].imageUrl+"?imageView&quality=30",aHref:w(n[r].encodeId,n[r].targetType,n[r].url)};console.log(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_PLAYLIST_HOT");case 2:for(e=t.sent,n=e.tags,r=0,a=n.length;r<a;r++)i.push({id:n[r].id,name:n[r].name});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_PERSONALIZED");case 2:for(e=t.sent,n=e.result,r=0;r<7;r++)u.push({id:"/playlist?id="+n[r].id.toString(),name:n[r].name,playCount:m(n[r].playCount),copywriter:n[r].copywriter,picUrl:n[r].picUrl,type:n[r].type});return t.next=7,x["a"]["httpGET"]("GET_PERSONALIZED_DJ");case 7:for(a=t.sent,i=0;i<3;i++)u.push({id:"/dj?id="+a.result[i].id.toString(),name:a.result[i].name,playCount:m(a.result[i].program.listenerCount),copywriter:a.result[i].copywriter,picUrl:a.result[i].picUrl,type:a.result[i].type});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_ALBUM_NEWEST");case 2:for(e=t.sent,n=e.albums,r=n.length<10?n.length:10,a=0;a<r;a++)d.push({id:"/album?id="+n[a].id.toString(),name:n[a].name,artist:n[a].artist.name,picUrl:n[a].picUrl});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return L(),k(),y(),I(),sessionStorage.topListFull?(e.state.topListFull=JSON.parse(sessionStorage.topListFull),O()):a.length?O():e.dispatch("getTopListFull").then((function(){O()})),{getIdCallBackHot:v,getIdCallBackAlbums:g,getIdCallBackList:h,playlistHot:i,cards:u,albumListHot:s,album:d,topList:b,cardsTopList:f,banner:c,activeName:n}}});L.render=u;e["default"]=L}}]);