(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["discover"],{"9b5a":function(t,e,n){},af85:function(t,e,n){"use strict";n.r(e);var i=n("7a23"),r={id:"discoverIndex"},c=Object(i["i"])("span",{class:"mdui-chip-title"},"更多",-1),a=Object(i["i"])("span",{class:"mdui-chip-title"},"更多",-1),s=Object(i["i"])("span",{class:"mdui-chip-title"},"更多",-1);function u(t,e,n,u,o,l){var p=Object(i["A"])("swipe"),d=Object(i["A"])("router-link"),b=Object(i["A"])("recommend");return Object(i["s"])(),Object(i["e"])("div",r,[Object(i["i"])(p,{banners:t.banner},null,8,["banners"]),Object(i["i"])(b,{topTitle:"热门推荐",topList:t.playlistHot,cardList:t.cards,onGetid:t.getIdCallBackHot},{default:Object(i["L"])((function(){return[Object(i["i"])(d,{class:"mdui-chip",style:{float:"right",margin:"30px 10px 0px"},to:"/discover/playlist"},{default:Object(i["L"])((function(){return[c]})),_:1})]})),_:1},8,["topList","cardList","onGetid"]),Object(i["i"])(b,{topTitle:"新碟上架",topList:t.albumListHot,cardList:t.album,onGetid:t.getIdCallBackAlbums},{default:Object(i["L"])((function(){return[Object(i["i"])(d,{class:"mdui-chip",style:{float:"right",margin:"30px 10px 0px"},to:"/album/newest"},{default:Object(i["L"])((function(){return[a]})),_:1})]})),_:1},8,["topList","cardList","onGetid"]),Object(i["i"])(b,{topTitle:"热门榜单",topList:t.topList,cardList:t.cardsTopList,activeName:"云音乐飙升榜",onGetid:t.getIdCallBackList},{default:Object(i["L"])((function(){return[Object(i["i"])(d,{class:"mdui-chip",style:{float:"right",margin:"30px 10px 0px"},to:"/discover/toplist"},{default:Object(i["L"])((function(){return[s]})),_:1})]})),_:1},8,["topList","cardList","onGetid"])])}n("c975"),n("fb6a"),n("b0c0"),n("a9e3"),n("d3b7"),n("25f0"),n("96cf");var o=n("1da1"),l=n("6c02"),p=n("5502"),d=n("8ceb"),b=Object(i["O"])("data-v-34c10bc4");Object(i["v"])("data-v-34c10bc4");var f={class:"c-swipe"},m={class:"c-swipe-container"},O={class:"c-swipe-pagination"},j=Object(i["i"])("i",{class:"mdui-icon material-icons"},"chevron_left",-1),v=Object(i["i"])("i",{class:"mdui-icon material-icons"},"chevron_right",-1);Object(i["t"])();var w=b((function(t,e,n,r,c,a){var s=Object(i["A"])("router-link");return Object(i["s"])(),Object(i["e"])("div",f,[Object(i["i"])("div",m,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.banners,(function(e,n){return Object(i["s"])(),Object(i["e"])(s,{class:["c-swipe-link mdui-shadow-16",{"c-swipe-link-pre":n===t.preIndex,"c-swipe-link-cur":n===t.curIndex,"c-swipe-link-next":n===t.nextIndex}],key:e.id,to:e.aHref},{default:b((function(){return[Object(i["i"])("img",{class:"c-swipe-img",src:e.imgSrc,alt:e.imgSrc},null,8,["src","alt"])]})),_:2},1032,["to","class"])})),128))]),Object(i["i"])("div",O,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.banners,(function(e,n){return Object(i["s"])(),Object(i["e"])("span",{class:["c-swipe-pagination-inner",{"c-swipe-pagination-inner-active":n===t.curIndex}],key:e.id,onClick:Object(i["N"])((function(e){return t.handleClickSwipe(n)}),["stop"])},null,10,["onClick"])})),128))]),Object(i["i"])("button",{class:"c-swipe-arrow-left mdui-fab mdui-color-red-900 mdui-ripple",onClick:e[1]||(e[1]=Object(i["N"])((function(e){return t.handleClickArrow(-1)}),["stop"]))},[j]),Object(i["i"])("button",{class:"c-swipe-arrow-right mdui-fab mdui-color-red-900 mdui-ripple",onClick:e[2]||(e[2]=Object(i["N"])((function(e){return t.handleClickArrow(1)}),["stop"]))},[v])])})),g=Object(i["j"])({name:"Swipe",props:{banners:Object},setup:function(t){var e=Object(i["x"])(0),n=Object(i["x"])(0),r=Object(i["x"])(0),c=0,a=0,s=function(t){return t>=c?t-c:t<0?t+c:t},u=function(t){t!==n.value&&(e.value=s(t-1),n.value=s(t),r.value=s(t+1))},o=function(){a=setInterval((function(){u(n.value+1),n.value>=c?n.value=0:n.value<0&&(n.value=c-1)}),1e4)},l=function(t){clearInterval(a),u(t),o()},p=function(t){l(s(t<0?n.value-1:n.value+1))},d=function(){clearInterval(a),e.value=s(-1),n.value=s(0),r.value=s(1),o()};return Object(i["K"])((function(){t.banners&&(c=t.banners.length,d())})),{preIndex:e,curIndex:n,nextIndex:r,handleClickSwipe:l,handleClickArrow:p}}});n("b596");g.render=w,g.__scopeId="data-v-34c10bc4";var h=g,L=n("bca1"),x=n("79f6"),y=Object(i["j"])({name:"Discover",components:{Swipe:h,Recommend:L["a"]},setup:function(){var t=Object(l["e"])(),e=Object(p["b"])(),n=e.state.topListFull,r=Object(i["w"])([]),c=Object(i["w"])([]),a=[{id:"ALL",name:"全部"},{id:"ZH",name:"华语"},{id:"EA",name:"欧美"},{id:"KR",name:"韩国"},{id:"JP",name:"日本"}],s=Object(i["w"])([]),u=Object(i["w"])([]),b=Object(i["w"])([]),f=Object(i["w"])([]),m=function(t){var e=Number(t),n="";return e>99999?(e=Math.round(e/1e4),n=e.toString()+"万"):n=t.toString(),n},O=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,i,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_PLAYLIST_DETAIL",{id:e});case 2:for(n=t.sent,i=n.playlist,r=i.tracks,c=0;c<10;c++)f[c]={id:"/song?id="+r[c].id.toString(),name:r[c].name,artist:r[c].ar[0].name,picUrl:r[c].al.picUrl};case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){for(var t=0;t<3;t++)b[t]=e.state.topListFull[t];O(b[0].id)},v=function(e){t.push("/discover/playlist/?cat=".concat(e.name))},w=function(e){t.push("/discover/album?area=".concat(e.id))},g=function(t){O(t.id)},h=function(t,e,n){switch(e){case 3e3:return n.slice(n.indexOf("com/")+3);case 1004:return"/mv?id="+t;case 10:return"/album?id="+t;case 1:return"/song?id="+t;default:return n.slice(n.indexOf("com/")+3)}},L=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_BANNER",{type:0});case 2:for(e=t.sent,n=e.banners,i=0,r=n.length;i<r;i++)c[i]={bgSrc:n[i].imageUrl+"?imageView&blur=40x20",imgSrc:n[i].imageUrl+"?imageView&quality=30",aHref:h(n[i].encodeId,n[i].targetType,n[i].url)};case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_PLAYLIST_HOT");case 2:for(e=t.sent,n=e.tags,i=0,c=n.length;i<c;i++)r.push({id:n[i].id,name:n[i].name});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_PERSONALIZED");case 2:for(e=t.sent,n=e.result,i=0;i<7;i++)s.push({id:"/playlist?id="+n[i].id.toString(),name:n[i].name,playCount:m(n[i].playCount),copywriter:n[i].copywriter,picUrl:n[i].picUrl,type:n[i].type});return t.next=7,x["a"]["httpGET"]("GET_PERSONALIZED_DJ");case 7:for(r=t.sent,c=0;c<3;c++)s.push({id:"/dj?id="+r.result[c].id.toString(),name:r.result[c].name,playCount:m(r.result[c].program.listenerCount),copywriter:r.result[c].copywriter,picUrl:r.result[c].picUrl,type:r.result[c].type});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_ALBUM_NEWEST");case 2:for(e=t.sent,n=e.albums,i=0;i<10;i++)u.push({id:"/album?id="+n[i].id.toString(),name:n[i].name,artist:n[i].artist.name,picUrl:n[i].picUrl});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return L(),y(),k(),I(),sessionStorage.topListFull?(e.state.topListFull=JSON.parse(sessionStorage.topListFull),j()):n.length?j():e.dispatch("getTopListFull").then((function(){j()})),Object(i["q"])((function(){d["a"].mutation()})),{getIdCallBackHot:v,getIdCallBackAlbums:w,getIdCallBackList:g,playlistHot:r,cards:s,albumListHot:a,album:u,topList:b,cardsTopList:f,banner:c}}});y.render=u;e["default"]=y},b596:function(t,e,n){"use strict";n("9b5a")}}]);