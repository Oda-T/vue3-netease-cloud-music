(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["song"],{"0d3b":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),i=Object(a["P"])("data-v-fcd04fae");Object(a["w"])("data-v-fcd04fae");var r={id:"song"},c={class:"c-song-lyric-container mdui-panel mdui-panel-popout","mdui-panel":""},l={class:"mdui-panel-item"},o=Object(a["j"])("div",{class:"mdui-panel-item-header"},[Object(a["j"])("div",{class:"mdui-panel-item-title"},"歌词"),Object(a["j"])("i",{class:"mdui-panel-item-arrow mdui-icon material-icons"},"keyboard_arrow_down")],-1),u={class:"mdui-panel-item-body"};Object(a["u"])();var s=i((function(e,t,n,i,s,d){var m=Object(a["B"])("play-list"),p=Object(a["B"])("comments"),b=Object(a["B"])("pagination");return Object(a["t"])(),Object(a["f"])("div",r,[Object(a["j"])(m,{headerDetail:e.headerDetail,listDetail:e.listDetail},null,8,["headerDetail","listDetail"]),Object(a["j"])("div",c,[Object(a["j"])("div",l,[o,Object(a["j"])("div",u,[Object(a["j"])("p",null,Object(a["F"])(e.lyric),1)])])]),Object(a["j"])(p,{commentsDetail:e.commentsDetail,hotCommentsDetail:e.hotCommentsDetail},null,8,["commentsDetail","hotCommentsDetail"]),Object(a["j"])(b,{pageCount:e.pageCount,onPageNumber:e.pageNumber},null,8,["pageCount","onPageNumber"])])})),d=(n("a15b"),n("b0c0"),n("96cf"),n("1da1")),m=n("6c02"),p=n("8ceb"),b=n("9b6e"),j=n("961b"),v=n("6407"),f=n("79f6"),h=Object(a["k"])({name:"Song",components:{PlayList:b["a"],Comments:j["a"],Pagination:v["a"]},setup:function(){var e=Object(m["d"])(),t=Object(a["y"])({}),n=Object(a["x"])([]),i=Object(a["y"])(""),r=Object(a["y"])(0),c=Object(a["x"])([]),l=Object(a["x"])([]),o=Object(a["y"])(""),u=function(e){if(1===e.length)return e[0].name;for(var t=[],n=0;n<e.length;n++)t.push(e[n].name);return t.join("/")},s=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(n){var a,r,c,l,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"]["httpGET"]("GET_SONG_DETAIL",{ids:n});case 2:return a=e.sent,r=a.songs,e.next=6,f["a"]["httpGET"]("GET_COMMENT_MUSIC",{id:n});case 6:return c=e.sent,l=c.total,e.next=10,f["a"]["httpGET"]("GET_LYRIC",{id:n});case 10:o=e.sent,s=o.lrc,i.value=s,t.value={name:r[0].name,coverImgUrl:r[0].al.picUrl,commentCount:l,album:r[0].al.name,albumId:r[0].al.id,artistName:u(r[0].ar),artistId:r[0].ar[0].id};case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,u,s,d,m=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=m.length>1&&void 0!==m[1]?m[1]:0,c.length=0,e.next=4,f["a"]["httpGET"]("GET_COMMENT_MUSIC",{id:t,offset:n});case 4:if(a=e.sent,i=a.total,o=a.comments,u=a.hotComments,0===n)for(r.value=Math.ceil(i/20),s=0;s<u.length;s++)l[s]={username:u[s].user.nickname,useravatar:u[s].user.avatarUrl,usertype:u[s].user.userType,content:u[s].content,liked:u[s].liked,likedcount:u[s].likedCount,time:u[s].time,replied:{username:u[s].beReplied.length?u[s].beReplied[0].user.nickname:void 0,content:u[s].beReplied.length?u[s].beReplied[0].content:void 0}};else l.length=0;for(d=0;d<o.length;d++)c[d]={username:o[d].user.nickname,useravatar:o[d].user.avatarUrl,usertype:o[d].user.userType,content:o[d].content,liked:o[d].liked,likedcount:o[d].likedCount,time:o[d].time,replied:{username:o[d].beReplied.length?o[d].beReplied[0].user.nickname:void 0,content:o[d].beReplied.length?o[d].beReplied[0].content:void 0}};case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){b(o.value,20*(e-1)),window.scrollTo({top:0})};return"string"===typeof e.query.id&&(o.value=e.query.id,s(o.value),b(o.value)),Object(a["r"])((function(){p["a"].mutation()})),{route:e,headerDetail:t,listDetail:n,lyric:i,commentsDetail:c,hotCommentsDetail:l,pageCount:r,pageNumber:j,id:o}}});n("2f62");h.render=s,h.__scopeId="data-v-fcd04fae";t["default"]=h},"2f62":function(e,t,n){"use strict";n("ed47")},ed47:function(e,t,n){}}]);