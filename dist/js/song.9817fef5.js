(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["song"],{"0d3b":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=Object(r["R"])("data-v-58b7c4fa");Object(r["w"])("data-v-58b7c4fa");var i={id:"song"},c={class:"g-card-container song-lyric-container mdui-panel mdui-panel-gapless","mdui-panel":""},u={class:"mdui-panel-item"},o=Object(r["j"])("div",{class:"mdui-panel-item-header"},[Object(r["j"])("div",{class:"mdui-panel-item-title"},"歌词"),Object(r["j"])("i",{class:"mdui-panel-item-arrow mdui-icon material-icons"},"keyboard_arrow_down")],-1),s={class:"mdui-panel-item-body"},m={key:1};Object(r["u"])();var d=a((function(e,t,n,a,d,l){var p=Object(r["B"])("PlayListHeader"),b=Object(r["B"])("CommentsPagination");return Object(r["t"])(),Object(r["f"])("div",i,[Object(r["j"])(p,{headerDetail:e.headerDetail,onHandlePlay:t[1]||(t[1]=function(t){return e.handlePlay(e.id)})},null,8,["headerDetail"]),Object(r["j"])("div",c,[Object(r["j"])("div",u,[o,Object(r["j"])("div",s,[e.lyric?(Object(r["t"])(),Object(r["f"])("small",{key:0,innerHTML:e.lyric,style:{"line-height":"30px"}},null,8,["innerHTML"])):(Object(r["t"])(),Object(r["f"])("small",m,"无"))])])]),Object(r["j"])(b,{reuqestURL:"GET_COMMENT_MUSIC",onGetCommentsVal:e.sendCommentsVal,onThumbUp:e.thumbUp,key:e.renderDom},null,8,["onGetCommentsVal","onThumbUp"])])})),l=(n("a15b"),n("b0c0"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),p=n("6c02"),b=n("8ceb"),f=n("6e1d"),h=n("fa44"),v=n("c057"),j=n("6529"),g=n("62d3"),O=n("79f6"),w=Object(r["k"])({name:"Song",components:{PlayListHeader:f["a"],CommentsPagination:h["a"]},setup:function(){var e=Object(p["d"])(),t=Object(r["y"])({}),n=Object(r["y"])(""),a=Object(r["y"])(""),i=Object(r["y"])(Math.random()),c=function(e){if(1===e.length)return e[0].name;for(var t=[],n=0;n<e.length;n++)t.push(e[n].name);return t.join("/")},u=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(r){var a,i,u,o,s,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O["a"]["httpGET"]("GET_SONG_DETAIL",{ids:r});case 2:return a=e.sent,i=a.songs,e.next=6,O["a"]["httpGET"]("GET_LYRIC",{id:r});case 6:return u=e.sent,o=u.lrc,e.next=10,O["a"]["httpGET"]("GET_CHECK_MUSIC",{id:r});case 10:s=e.sent,m=s.success,o&&(n.value=o.lyric.replace(/\[.*\]/g,"<br />")),t.value={name:i[0].name,coverImgUrl:i[0].al.picUrl,album:i[0].al.name,albumId:i[0].al.id,artistName:c(i[0].ar),artistId:i[0].ar[0].id,disabled:!m};case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["b"])(a.value,j["a"]["歌曲"],t);case 2:Object(r["o"])((function(){i.value=Math.random()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["a"])(a.value,j["a"]["歌曲"],t);case 2:Object(r["o"])((function(){i.value=Math.random()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"string"===typeof e.query.id&&(a.value=e.query.id,u(a.value)),Object(r["r"])((function(){b["a"].mutation()})),{route:e,headerDetail:t,lyric:n,handlePlay:v["b"],id:a,sendCommentsVal:o,renderDom:i,thumbUp:s}}});n("34f3");w.render=d,w.__scopeId="data-v-58b7c4fa";t["default"]=w},"34f3":function(e,t,n){"use strict";n("93c5")},"62d3":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));n("d3b7"),n("96cf");var r=n("1da1"),a=n("79f6"),i=n("8ceb"),c=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"]["httpGET"]("COMMENT",{t:1,type:n,id:t,content:r});case 2:c=e.sent,u=c.code,200===u?i["a"].snackbar({message:"评论成功",position:"right-bottom",timeout:1200,onClose:function(){return Promise.resolve()}}):i["a"].snackbar({message:"评论失败",position:"right-bottom",timeout:1200,onClose:function(){return Promise.reject()}});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),u=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"]["httpGET"]("COMMENT_LIKE",{id:t,type:n,t:1,cid:r});case 2:if(i=e.sent,c=i.code,200!==c){e.next=8;break}return e.abrupt("return",Promise.resolve());case 8:return e.abrupt("return",Promise.reject());case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},6529:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["歌曲"]=0]="歌曲",e[e["mv"]=1]="mv",e[e["歌单"]=2]="歌单",e[e["专辑"]=3]="专辑",e[e["电台"]=4]="电台",e[e["视频"]=5]="视频",e[e["动态"]=6]="动态"}(r||(r={}))},"93c5":function(e,t,n){},c057:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return b}));var r=n("ade3"),a=(n("96cf"),n("1da1")),i=n("0613"),c=n("79f6"),u=n("8ceb"),o=function(e){i["a"].commit("setSongList",e)},s=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"]["httpGET"]("SHARE_RESOURCE",{id:t,type:n,msg:r});case 2:a=e.sent,i=a.code,200===i?u["a"].snackbar({message:"成功分享到动态",position:"right-bottom",timeout:1200}):u["a"].snackbar({message:"分享失败",position:"right-bottom",timeout:1200});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(e){switch(e){case"playlist":return"PLAYLIST_SUBSCRIBE";case"album":return"ALBUM_SUB";case"djradio":return"DJ_SUB";case"mv":return"MV_SUB";case"video":return"VIDEO_SUB";default:return"PLAYLIST_SUBSCRIBE"}},d=function(e){switch(e){case"djradio":return"rid";case"mv":return"mvid";default:return"id"}},l=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"]["httpGET"](m(n),(a={},Object(r["a"])(a,d(n),t),Object(r["a"])(a,"t",1),a));case 2:i=e.sent,o=i.code,200===o?u["a"].snackbar({message:"收藏成功",position:"right-bottom",timeout:1200}):u["a"].snackbar({message:"收藏失败",position:"right-bottom",timeout:1200});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(e){switch(e){case"djprogram":return"4";case"video":return"5";default:return"1"}},b=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"]["httpGET"]("RESOURCE_LIKE",{id:t,t:1,type:p(n)});case 2:r=e.sent,a=r.code,200===a&&u["a"].snackbar({message:"已点赞",position:"right-bottom",timeout:1200});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}]);