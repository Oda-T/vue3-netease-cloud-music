(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["discover"],{"0414":function(t,e,n){"use strict";n("a371")},a371:function(t,e,n){},af85:function(t,e,n){"use strict";n.r(e);var r=n("7a23"),i={id:"discoverIndex"},a=Object(r["j"])("span",{class:"mdui-chip-title"},"更多",-1),c=Object(r["j"])("span",{class:"mdui-chip-title"},"更多",-1),s=Object(r["j"])("span",{class:"mdui-chip-title"},"更多",-1);function u(t,e,n,u,o,l){var p=Object(r["B"])("swipe"),d=Object(r["B"])("router-link"),b=Object(r["B"])("recommend");return Object(r["t"])(),Object(r["f"])("div",i,[Object(r["j"])(p,{banners:t.banner},null,8,["banners"]),Object(r["j"])(b,{topTitle:"热门推荐",topList:t.playlistHot,cardList:t.cards,onGetid:t.getIdCallBackHot},{default:Object(r["M"])((function(){return[Object(r["j"])(d,{class:"mdui-chip",style:{float:"right",margin:"30px 10px 0px"},to:"/discover/playlist"},{default:Object(r["M"])((function(){return[a]})),_:1})]})),_:1},8,["topList","cardList","onGetid"]),Object(r["j"])(b,{topTitle:"新碟上架",topList:t.albumListHot,cardList:t.album,onGetid:t.getIdCallBackAlbums},{default:Object(r["M"])((function(){return[Object(r["j"])(d,{class:"mdui-chip",style:{float:"right",margin:"30px 10px 0px"},to:"/discover/album"},{default:Object(r["M"])((function(){return[c]})),_:1})]})),_:1},8,["topList","cardList","onGetid"]),Object(r["j"])(b,{topTitle:"热门榜单",topList:t.topList,cardList:t.cardsTopList,activeName:"云音乐飙升榜",onGetid:t.getIdCallBackList},{default:Object(r["M"])((function(){return[Object(r["j"])(d,{class:"mdui-chip",style:{float:"right",margin:"30px 10px 0px"},to:"/discover/toplist"},{default:Object(r["M"])((function(){return[s]})),_:1})]})),_:1},8,["topList","cardList","onGetid"])])}n("c975"),n("fb6a"),n("b0c0"),n("a9e3"),n("d3b7"),n("25f0"),n("96cf");var o=n("1da1"),l=n("6c02"),p=n("5502"),d=Object(r["P"])("data-v-15ba9f3a");Object(r["w"])("data-v-15ba9f3a");var b={class:"c-swipe"},f={class:"c-swipe-container"},j={class:"c-swipe-pagination"},m=Object(r["j"])("i",{class:"mdui-icon material-icons"},"chevron_left",-1),O=Object(r["j"])("i",{class:"mdui-icon material-icons"},"chevron_right",-1);Object(r["u"])();var v=d((function(t,e,n,i,a,c){var s=Object(r["B"])("router-link"),u=Object(r["C"])("lazy");return Object(r["t"])(),Object(r["f"])("div",b,[Object(r["j"])("div",f,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(t.banners,(function(e,n){return Object(r["t"])(),Object(r["f"])(s,{class:["c-swipe-link mdui-shadow-16",{"c-swipe-link-pre":n===t.preIndex,"c-swipe-link-cur":n===t.curIndex,"c-swipe-link-next":n===t.nextIndex}],key:e.id,to:e.aHref},{default:d((function(){return[Object(r["N"])(Object(r["j"])("img",{class:"c-swipe-img",alt:e.imgSrc},null,8,["alt"]),[[u,e.imgSrc]])]})),_:2},1032,["to","class"])})),128))]),Object(r["j"])("div",j,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(t.banners,(function(e,n){return Object(r["t"])(),Object(r["f"])("span",{class:["c-swipe-pagination-inner",{"c-swipe-pagination-inner-active":n===t.curIndex}],key:e.id,onClick:Object(r["O"])((function(e){return t.handleClickSwipe(n)}),["stop"])},null,10,["onClick"])})),128))]),Object(r["j"])("button",{class:"c-swipe-arrow-left mdui-fab mdui-color-red-900 mdui-ripple",onClick:e[1]||(e[1]=Object(r["O"])((function(e){return t.handleClickArrow(-1)}),["stop"]))},[m]),Object(r["j"])("button",{class:"c-swipe-arrow-right mdui-fab mdui-color-red-900 mdui-ripple",onClick:e[2]||(e[2]=Object(r["O"])((function(e){return t.handleClickArrow(1)}),["stop"]))},[O])])})),g=Object(r["k"])({name:"Swipe",props:{banners:Object},setup:function(t){var e=Object(r["y"])(0),n=Object(r["y"])(0),i=Object(r["y"])(0),a=0,c=0,s=function(t){return t>=a?t-a:t<0?t+a:t},u=function(t){t!==n.value&&(e.value=s(t-1),n.value=s(t),i.value=s(t+1))},o=function(){c=setInterval((function(){u(n.value+1),n.value>=a?n.value=0:n.value<0&&(n.value=a-1)}),1e4)},l=function(t){clearInterval(c),u(t),o()},p=function(t){l(s(t<0?n.value-1:n.value+1))},d=function(){clearInterval(c),e.value=s(-1),n.value=s(0),i.value=s(1),o()};return Object(r["L"])((function(){t.banners&&(a=t.banners.length,d())})),{preIndex:e,curIndex:n,nextIndex:i,handleClickSwipe:l,handleClickArrow:p}}});n("0414");g.render=v,g.__scopeId="data-v-15ba9f3a";var h=g,w=n("bca1"),x=n("79f6"),L=Object(r["k"])({name:"Discover",components:{Swipe:h,Recommend:w["a"]},setup:function(){var t=Object(l["e"])(),e=Object(p["b"])(),n=e.state.topListFull,i=Object(r["x"])([]),a=Object(r["x"])([]),c=[{id:"ALL",name:"全部"},{id:"ZH",name:"华语"},{id:"EA",name:"欧美"},{id:"KR",name:"韩国"},{id:"JP",name:"日本"}],s=Object(r["x"])([]),u=Object(r["x"])([]),d=Object(r["x"])([]),b=Object(r["x"])([]),f=function(t){var e=Number(t),n="";return e>99999?(e=Math.round(e/1e4),n=e.toString()+"万"):n=t.toString(),n},j=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_PLAYLIST_DETAIL",{id:e});case 2:for(n=t.sent,r=n.playlist,i=r.tracks,a=0;a<10;a++)b[a]={id:"/song?id="+i[a].id.toString(),name:i[a].name,artist:i[a].ar[0].name,picUrl:i[a].al.picUrl};case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){for(var t=0;t<3;t++)d[t]=e.state.topListFull[t];j(d[0].id)},O=function(e){t.push("/discover/playlist/?cat=".concat(e.name))},v=function(e){t.push("/discover/album?area=".concat(e.id))},g=function(t){j(t.id)},h=function(t,e,n){switch(e){case 3e3:return n.slice(n.indexOf("com/")+3);case 1004:return"/mv?id="+t;case 10:return"/album?id="+t;case 1:return"/song?id="+t;default:return n.slice(n.indexOf("com/")+3)}},w=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_BANNER",{type:0});case 2:for(e=t.sent,n=e.banners,r=0,i=n.length;r<i;r++)a[r]={bgSrc:n[r].imageUrl+"?imageView&blur=40x20",imgSrc:n[r].imageUrl+"?imageView&quality=30",aHref:h(n[r].encodeId,n[r].targetType,n[r].url)};console.log(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_PLAYLIST_HOT");case 2:for(e=t.sent,n=e.tags,r=0,a=n.length;r<a;r++)i.push({id:n[r].id,name:n[r].name});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_PERSONALIZED");case 2:for(e=t.sent,n=e.result,r=0;r<7;r++)s.push({id:"/playlist?id="+n[r].id.toString(),name:n[r].name,playCount:f(n[r].playCount),copywriter:n[r].copywriter,picUrl:n[r].picUrl,type:n[r].type});return t.next=7,x["a"]["httpGET"]("GET_PERSONALIZED_DJ");case 7:for(i=t.sent,a=0;a<3;a++)s.push({id:"/dj?id="+i.result[a].id.toString(),name:i.result[a].name,playCount:f(i.result[a].program.listenerCount),copywriter:i.result[a].copywriter,picUrl:i.result[a].picUrl,type:i.result[a].type});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"]["httpGET"]("GET_ALBUM_NEWEST");case 2:for(e=t.sent,n=e.albums,r=0;r<10;r++)u.push({id:"/album?id="+n[r].id.toString(),name:n[r].name,artist:n[r].artist.name,picUrl:n[r].picUrl});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return w(),L(),y(),k(),sessionStorage.topListFull?(e.state.topListFull=JSON.parse(sessionStorage.topListFull),m()):n.length?m():e.dispatch("getTopListFull").then((function(){m()})),{getIdCallBackHot:O,getIdCallBackAlbums:v,getIdCallBackList:g,playlistHot:i,cards:s,albumListHot:c,album:u,topList:d,cardsTopList:b,banner:a}}});L.render=u;e["default"]=L}}]);